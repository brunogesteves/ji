{"ast":null,"code":"import _slicedToArray from\"/home/bruno/trabalho/ji/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from\"react\";import{Link,Redirect}from\"react-router-dom\";import\"./Login.css\";import{LoginContext}from\"../../Contexts/Context\";import Auth from\"../../../Services/Auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassWord=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),initialState=_useState6[0],setInitialState=_useState6[1];var _useContext=useContext(LoginContext),isLogged=_useContext.isLogged,setIsLogged=_useContext.setIsLogged;function verifyLogin(){Auth.authenticate(user,password).then(function(res){localStorage.setItem(\"token\",res.token);localStorage.setItem(\"user\",res.name);setIsLogged(true);setInitialState(true);}).catch(function(error){console.log(\"Erro na volta\");});}return/*#__PURE__*/_jsxs(_Fragment,{children:[initialState&&isLogged?/*#__PURE__*/_jsx(Redirect,{to:\"/admin\"}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"login-admin\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/1.jpg\",alt:\"logotype\"}),\"Login:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"usernameField\",onChange:function onChange(e){return setUser(e.target.value);},size:\"30\"}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Senha:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"passwordField\",onChange:function onChange(e){return setPassWord(e.target.value);},size:\"30\"}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"ENTRAR\",id:\"getIn-button\",onClick:function onClick(){return verifyLogin();}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"login-home\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"login-remember-password\",children:\"Lembrar Senha\"})]})]})]});}","map":{"version":3,"sources":["/home/bruno/trabalho/ji/frontend/src/Pages/Admin/Login/Login.js"],"names":["React","useState","useContext","Link","Redirect","LoginContext","Auth","Login","props","user","setUser","password","setPassWord","initialState","setInitialState","isLogged","setIsLogged","verifyLogin","authenticate","then","res","localStorage","setItem","token","name","catch","error","console","log","e","target","value"],"mappings":"uJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,CAEA,MAAO,aAAP,CAEA,OAASC,YAAT,KAA6B,wBAA7B,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,C,6IAEA,cAAe,SAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,CACnC,cAAwBP,QAAQ,CAAC,EAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACA,eAAgCT,QAAQ,CAAC,EAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eACA,eAAwCX,QAAQ,CAAC,KAAD,CAAhD,yCAAOY,YAAP,eAAqBC,eAArB,eACA,gBAAkCZ,UAAU,CAACG,YAAD,CAA5C,CAAQU,QAAR,aAAQA,QAAR,CAAkBC,WAAlB,aAAkBA,WAAlB,CAEA,QAASC,CAAAA,WAAT,EAAuB,CACrBX,IAAI,CAACY,YAAL,CAAkBT,IAAlB,CAAwBE,QAAxB,EACGQ,IADH,CACQ,SAACC,GAAD,CAAS,CACbC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,GAAG,CAACG,KAAlC,EACAF,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BF,GAAG,CAACI,IAAjC,EACAR,WAAW,CAAC,IAAD,CAAX,CACAF,eAAe,CAAC,IAAD,CAAf,CACD,CANH,EAOGW,KAPH,CAOS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACD,CATH,EAUD,CAED,mBACE,2BACGf,YAAY,EAAIE,QAAhB,cAA2B,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAA3B,CAAsD,IADzD,cAEE,aAAK,SAAS,CAAC,aAAf,wBACE,YAAK,GAAG,CAAE,QAAV,CAAoB,GAAG,CAAC,UAAxB,EADF,uBAGE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,eAFP,CAGE,QAAQ,CAAE,kBAACc,CAAD,QAAOnB,CAAAA,OAAO,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAHZ,CAIE,IAAI,CAAC,IAJP,EAHF,cASE,aATF,kBASS,aATT,uBAWE,cACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,eAFP,CAGE,QAAQ,CAAE,kBAACF,CAAD,QAAOjB,CAAAA,WAAW,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAHZ,CAIE,IAAI,CAAC,IAJP,EAXF,cAiBE,cACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,QAFR,CAGE,EAAE,CAAC,cAHL,CAIE,OAAO,CAAE,yBAAMd,CAAAA,WAAW,EAAjB,EAJX,EAjBF,cAuBE,oCACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,YAAvB,kBADF,cAIE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,yBAAvB,2BAJF,GAvBF,GAFF,GADF,CAqCD","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nimport \"./Login.css\";\n\nimport { LoginContext } from \"../../Contexts/Context\";\nimport Auth from \"../../../Services/Auth\";\n\nexport default function Login(props) {\n  const [user, setUser] = useState(\"\");\n  const [password, setPassWord] = useState(\"\");\n  const [initialState, setInitialState] = useState(false);\n  const { isLogged, setIsLogged } = useContext(LoginContext);\n\n  function verifyLogin() {\n    Auth.authenticate(user, password)\n      .then((res) => {\n        localStorage.setItem(\"token\", res.token);\n        localStorage.setItem(\"user\", res.name);\n        setIsLogged(true);\n        setInitialState(true);\n      })\n      .catch((error) => {\n        console.log(\"Erro na volta\");\n      });\n  }\n\n  return (\n    <>\n      {initialState && isLogged ? <Redirect to=\"/admin\" /> : null}\n      <div className=\"login-admin\">\n        <img src={\"/1.jpg\"} alt=\"logotype\" />\n        Login:\n        <input\n          type=\"text\"\n          name=\"usernameField\"\n          onChange={(e) => setUser(e.target.value)}\n          size=\"30\"\n        />\n        <br /> <br />\n        Senha:\n        <input\n          type=\"password\"\n          name=\"passwordField\"\n          onChange={(e) => setPassWord(e.target.value)}\n          size=\"30\"\n        />\n        <input\n          type=\"button\"\n          value=\"ENTRAR\"\n          id=\"getIn-button\"\n          onClick={() => verifyLogin()}\n        />\n        <div>\n          <Link to=\"/\" className=\"login-home\">\n            Home\n          </Link>\n          <Link to=\"/\" className=\"login-remember-password\">\n            Lembrar Senha\n          </Link>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}