{"ast":null,"code":"import _slicedToArray from\"/home/bruno/trabalho/ji/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import Admin from\"./../Admin\";import\"./Posts.css\";import PostsService from\"../../../Services/Posts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Posts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),slide=_useState4[0],setSlide=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),gameplay=_useState6[0],setGameplay=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),middle=_useState8[0],setMiddle=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),gallery=_useState10[0],setGallery=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),publicPost=_useState12[0],setPublicPost=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),id=_useState14[0],setId=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),schedule=_useState16[0],setSchedule=_useState16[1];useEffect(function(){PostsService.posts().then(function(res){setPosts(res.map(function(res){return res.name;}));setSlide(res.map(function(res){return res.slide;}));setMiddle(res.map(function(res){return res.middle;}));setGameplay(res.map(function(res){return res.gameplay;}));setGallery(res.map(function(res){return res.gallery;}));setPublicPost(res.map(function(res){return res.publicpost;}));setId(res.map(function(res){return res.id;}));});},[]);useEffect(function(){PostsService.schedule().then(function(res){setSchedule(res.map(function(res){return res.date;}));});},[]);function deletePost(id){PostsService.schedule(id);setPosts(posts.filter(function(item){return item!==deletePost;}));}function updateOption(place,option,id){PostsService.update(place,option,id);}console.log(gallery);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Admin,{children:/*#__PURE__*/_jsx(\"ul\",{children:posts.map(function(res,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"posts\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/updatepost/\".concat(id[i]),className:\"posts-name\",style:{textDecoration:\"none\"},children:res},i)}),/*#__PURE__*/_jsx(\"div\",{children:schedule[i]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Slide\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onClick:function onClick(e){return updateOption(\"slide\",e.target.checked,id[i]);},defaultChecked:slide[i]?true:null})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Meio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onClick:function onClick(e){return updateOption(\"middle\",e.target.checked,id[i]);},defaultChecked:middle[i]?true:null})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Gameplay\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onClick:function onClick(e){return updateOption(\"gameplay\",e.target.checked,id[i]);},defaultChecked:gameplay[i]?true:null})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Galeria\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onClick:function onClick(e){return updateOption(\"gallery\",e.target.checked,id[i]);},defaultChecked:gallery[i]?true:null})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"P\\xFAblico\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onClick:function onClick(e){return updateOption(\"publicpost\",e.target.checked,id[i]);},defaultChecked:publicPost[i]?true:null})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deletePost(id[i]);},children:\"Apagar\"})]},i);})})})});}","map":{"version":3,"sources":["/home/bruno/trabalho/ji/frontend/src/Pages/Admin/Posts/Posts.js"],"names":["React","useState","useEffect","Link","Admin","PostsService","Posts","posts","setPosts","slide","setSlide","gameplay","setGameplay","middle","setMiddle","gallery","setGallery","publicPost","setPublicPost","id","setId","schedule","setSchedule","then","res","map","name","publicpost","date","deletePost","filter","item","updateOption","place","option","update","console","log","i","textDecoration","e","target","checked"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Admin from \"./../Admin\";\n\nimport \"./Posts.css\";\nimport PostsService from \"../../../Services/Posts\";\n\nexport default function Posts() {\n  const [posts, setPosts] = useState([]);\n  const [slide, setSlide] = useState(\"\");\n  const [gameplay, setGameplay] = useState(\"\");\n  const [middle, setMiddle] = useState(\"\");\n  const [gallery, setGallery] = useState(\"\");\n  const [publicPost, setPublicPost] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  const [schedule, setSchedule] = useState([]);\n\n  useEffect(() => {\n    PostsService.posts().then((res) => {\n      setPosts(res.map((res) => res.name));\n      setSlide(res.map((res) => res.slide));\n      setMiddle(res.map((res) => res.middle));\n      setGameplay(res.map((res) => res.gameplay));\n      setGallery(res.map((res) => res.gallery));\n      setPublicPost(res.map((res) => res.publicpost));\n      setId(res.map((res) => res.id));\n    });\n  }, []);\n\n  useEffect(() => {\n    PostsService.schedule().then((res) => {\n      setSchedule(res.map((res) => res.date));\n    });\n  }, []);\n\n  function deletePost(id) {\n    PostsService.schedule(id);\n    setPosts(posts.filter((item) => item !== deletePost));\n  }\n\n  function updateOption(place, option, id) {\n    PostsService.update(place, option, id);\n  }\n\n  console.log(gallery);\n\n  return (\n    <>\n      <Admin>\n        <ul>\n          {posts.map((res, i) => {\n            return (\n              <div key={i} className=\"posts\">\n                <div>\n                  <Link\n                    to={`/admin/updatepost/${id[i]}`}\n                    key={i}\n                    className=\"posts-name\"\n                    style={{ textDecoration: \"none\" }}\n                  >\n                    {res}\n                  </Link>\n                </div>\n                <div>{schedule[i]}</div>\n                <div>\n                  <span>Slide</span>\n                  <input\n                    type=\"checkbox\"\n                    onClick={(e) =>\n                      updateOption(\"slide\", e.target.checked, id[i])\n                    }\n                    defaultChecked={slide[i] ? true : null}\n                  />\n                </div>\n                <div>\n                  <span>Meio</span>\n                  <input\n                    type=\"checkbox\"\n                    onClick={(e) =>\n                      updateOption(\"middle\", e.target.checked, id[i])\n                    }\n                    defaultChecked={middle[i] ? true : null}\n                  />\n                </div>\n                <div>\n                  <span>Gameplay</span>\n                  <input\n                    type=\"checkbox\"\n                    onClick={(e) =>\n                      updateOption(\"gameplay\", e.target.checked, id[i])\n                    }\n                    defaultChecked={gameplay[i] ? true : null}\n                  />\n                </div>\n                <div>\n                  <span>Galeria</span>\n                  <input\n                    type=\"checkbox\"\n                    onClick={(e) =>\n                      updateOption(\"gallery\", e.target.checked, id[i])\n                    }\n                    defaultChecked={gallery[i] ? true : null}\n                  />\n                </div>\n                <div>\n                  <span>Público</span>\n                  <input\n                    type=\"checkbox\"\n                    onClick={(e) =>\n                      updateOption(\"publicpost\", e.target.checked, id[i])\n                    }\n                    defaultChecked={publicPost[i] ? true : null}\n                  />\n                </div>\n                <button onClick={() => deletePost(id[i])}>Apagar</button>\n              </div>\n            );\n          })}\n        </ul>\n      </Admin>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}