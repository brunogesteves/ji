{"ast":null,"code":"import _slicedToArray from\"/home/bruno/trabalho/ji/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useLayoutEffect,useState}from\"react\";import\"./Admin.css\";import ContainerAdmin from\"../../Components/ContainerAdmin/ContainerAdmin\";import SidebarAdmin from\"../../Components/SidebarAdmin/SidebarAdmin\";import Login from\"./Login/Login\";import{LoginContext}from\"../Contexts/Context\";import Auth from\"../../Services/Auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Admin(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),release=_useState2[0],setRelease=_useState2[1];var _useContext=useContext(LoginContext),isLogged=_useContext.isLogged,setIsLogged=_useContext.setIsLogged;useLayoutEffect(function(){Auth.confirm().then(function(res){setIsLogged(res.auth);if(res.auth&&isLogged){setRelease(true);load();}else{setRelease(true);load();}});//eslint-disable-next-line\n},[isLogged]);function load(){if(isLogged){return/*#__PURE__*/_jsx(ContainerAdmin,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"adminBody\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar\",children:/*#__PURE__*/_jsx(SidebarAdmin,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"adminContent\",children:props.children})]})});}else{return/*#__PURE__*/_jsx(Login,{});}}return/*#__PURE__*/_jsx(_Fragment,{children:release?load():null});}","map":{"version":3,"sources":["/home/bruno/trabalho/ji/frontend/src/Pages/Admin/Admin.js"],"names":["React","useContext","useLayoutEffect","useState","ContainerAdmin","SidebarAdmin","Login","LoginContext","Auth","Admin","props","release","setRelease","isLogged","setIsLogged","confirm","then","res","auth","load","children"],"mappings":"uJAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,eAA5B,CAA6CC,QAA7C,KAA6D,OAA7D,CACA,MAAO,aAAP,CAEA,MAAOC,CAAAA,cAAP,KAA2B,gDAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,4CAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CAEA,OAASC,YAAT,KAA6B,qBAA7B,CAEA,MAAOC,CAAAA,IAAP,KAAiB,qBAAjB,C,6IAEA,cAAe,SAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,CACnC,cAA8BP,QAAQ,CAAC,KAAD,CAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eACA,gBAAkCX,UAAU,CAACM,YAAD,CAA5C,CAAQM,QAAR,aAAQA,QAAR,CAAkBC,WAAlB,aAAkBA,WAAlB,CAEAZ,eAAe,CAAC,UAAM,CACpBM,IAAI,CAACO,OAAL,GAAeC,IAAf,CAAoB,SAACC,GAAD,CAAS,CAC3BH,WAAW,CAACG,GAAG,CAACC,IAAL,CAAX,CACA,GAAID,GAAG,CAACC,IAAJ,EAAYL,QAAhB,CAA0B,CACxBD,UAAU,CAAC,IAAD,CAAV,CACAO,IAAI,GACL,CAHD,IAGO,CACLP,UAAU,CAAC,IAAD,CAAV,CACAO,IAAI,GACL,CACF,CATD,EAUA;AACD,CAZc,CAYZ,CAACN,QAAD,CAZY,CAAf,CAcA,QAASM,CAAAA,IAAT,EAAgB,CACd,GAAIN,QAAJ,CAAc,CACZ,mBACE,KAAC,cAAD,wBACE,aAAK,SAAS,CAAC,WAAf,wBACE,YAAK,SAAS,CAAC,SAAf,uBACE,KAAC,YAAD,IADF,EADF,cAIE,YAAK,SAAS,CAAC,cAAf,UAA+BH,KAAK,CAACU,QAArC,EAJF,GADF,EADF,CAUD,CAXD,IAWO,CACL,mBAAO,KAAC,KAAD,IAAP,CACD,CACF,CAED,mBAAO,yBAAGT,OAAO,CAAGQ,IAAI,EAAP,CAAY,IAAtB,EAAP,CACD","sourcesContent":["import React, { useContext, useLayoutEffect, useState } from \"react\";\nimport \"./Admin.css\";\n\nimport ContainerAdmin from \"../../Components/ContainerAdmin/ContainerAdmin\";\nimport SidebarAdmin from \"../../Components/SidebarAdmin/SidebarAdmin\";\nimport Login from \"./Login/Login\";\n\nimport { LoginContext } from \"../Contexts/Context\";\n\nimport Auth from \"../../Services/Auth\";\n\nexport default function Admin(props) {\n  const [release, setRelease] = useState(false);\n  const { isLogged, setIsLogged } = useContext(LoginContext);\n\n  useLayoutEffect(() => {\n    Auth.confirm().then((res) => {\n      setIsLogged(res.auth);\n      if (res.auth && isLogged) {\n        setRelease(true);\n        load();\n      } else {\n        setRelease(true);\n        load();\n      }\n    });\n    //eslint-disable-next-line\n  }, [isLogged]);\n\n  function load() {\n    if (isLogged) {\n      return (\n        <ContainerAdmin>\n          <div className=\"adminBody\">\n            <div className=\"sidebar\">\n              <SidebarAdmin />\n            </div>\n            <div className=\"adminContent\">{props.children}</div>\n          </div>\n        </ContainerAdmin>\n      );\n    } else {\n      return <Login />;\n    }\n  }\n\n  return <>{release ? load() : null}</>;\n}\n"]},"metadata":{},"sourceType":"module"}